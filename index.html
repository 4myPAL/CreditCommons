<html lang="en">
<head>
<title>Home Credit Commons</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"
	type="text/javascript"></script>
<script
	src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
	type="text/javascript"></script>
<script type="text/javascript" src="web3.js"></script>
<script type="text/javascript" src="bignumber.js"></script>
<script type="text/javascript" src="creditCommons.js"></script>
<script type="text/javascript">
	window.onload = function() {
		document.getElementById('me').innerHTML = "ETH Account: <b>" + coinbase
				+ "<br></b> Credit Commons Member: <b>" + isMember
				+ "</b> Alias: <b>" + myAlias + "<br></b> Whisper Account: <b>"
				+ whisperID + "<br></b>Group ID: <b>" + myGroupID
				+ "</b> Group Name: <b>" + groupName
				+ "</b> Is Intertrade: <b>" + isIntertrade + "</b>"
				+ "</b> Is Commune: <b>" + isCommune + "</b>";
		document.getElementById('balance').innerText = myBalance + " "
				+ currencyName;
		document.getElementById('debitLimit').innerText = myDebitLimit + " "
				+ currencyName;
		document.getElementById('creditLimit').innerText = myCreditLimit + " "
				+ currencyName;
	}

	function register() {
		if (isMember = false) {
			var alias = document.getElementById('alias').value;
			var whisperIdentity = web3.shh.newIdentity();
			document.getElementById('whisperID').innerText = whisperIdentity;
			creditCommons.registerSystem(newAlias, whisperIdentity);
			location.reload();
		}
	}

	function resign() {
		if (myGroupID > 0) {
			creditCommons.resignGroup();
			location.reload();
		}
	}

	function joinGroup() {
		if (myGroupID = 0) {
			var group = document.getElementById('group').value;
			creditCommons.joinGroup(group);
			location.reload();
		}
	}
</script>
<style type="text/css">
.navbar {
	margin-bottom: 0;
	border-radius: 0;
}
</style>
</head>
<body>

	<div class="container bg-3 text-center">
		<div class="container"">
			<script type="text/javascript" src="navbar.js"></script>
		</div>
		<small><p class="bg-info" id="me"></p></small> <small><p
				class="bg-info" id="whisperID"></p></small>
		<div class="row">
			<div class="col-sm-12">

				<h3>My account</h3>
				<form class="form-horizontal well" role="form" action="">
					<div class="form-group">
						<label class="control-label col-sm-4" for="alias">Alias:</label>
						<div class="col-sm-4">
							<output id="alias"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="description">Description:</label>
						<div class="col-sm-4">
							<output id="description"></output>
						</div>
					</div>
					<small>
						<div class="form-group">
							<label class="control-label col-sm-4" for="account">ETHEREUM
								account:</label>
							<div class="col-sm-4">
								<output id="account"></output>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-sm-4" for="whisperID">WHISPER
								account:</label>
							<div class="col-sm-4">
								<output id="whisperID"></output>
							</div>
						</div>
					</small>
					<div class="form-group">
						<label class="control-label col-sm-4" for="balance">Balance:</label>
						<div class="col-sm-4">
							<output id="balance"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="debitLimit">Debit
							Limit:</label>
						<div class="col-sm-4">
							<output id="debitLimit"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="creditLimit">Credit
							Limit:</label>
						<div class="col-sm-4">
							<output id="creditLimit"></output>
						</div>
					</div>
					<label><output id="isCommune"> Is commune account:</label>
					<label><output id="isIntertrade"> Is intertrade
							account:</label>
				</form>
				<h3>Register at Credit Commons</h3>
				<form class="form-horizontal" role="form" action="">
					<div class="form-group">
						<label class="control-label col-sm-4" for="alias">Chose
							alias:</label>
						<div class="col-sm-4">
							<input type="text" class="form-control" id="alias"
								placeholder="Enter your alias">
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="alias">Description</label>
						<div class="col-sm-4">
							<textarea class="form-control" rows="5" id="description"
								placeholder="Introduce yourself. Geolocation. Country code. Phones, email, etc."
								cols=""></textarea>
						</div>
					</div>
				</form>
				<button type="submit" class="btn btn-default" onClick="register();">Register</button>
				<h3>My Group</h3>
				<form class="form-horizontal well" role="form" action="">
					<div class="form-group">
						<label class="control-label col-sm-4" for="groupID">Group
							ID:</label>
						<div class="col-sm-4">
							<output id="groupID"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="groupName">Group
							Name:</label>
						<div class="col-sm-4">
							<output id="groupName"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="groupDescription">Group
							Description:</label>
						<div class="col-sm-4">
							<output id="groupDescription"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="currency">Group
							Currency:</label>
						<div class="col-sm-4">
							<output id="currency"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="rate">Currency
							Rate:</label>
						<div class="col-sm-4">
							<output id="rate"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="debitLimitG">Default
							Members Debit Limit:</label>
						<div class="col-sm-4">
							<output id="debitLimitG"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="creditLimitG">Default
							Members Credit Limit:</label>
						<div class="col-sm-4">
							<output id="creditLimitG"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="open">Open:</label>
						<div class="col-sm-4">
							<output id="open"></output>
						</div>
					</div>
					<small>
						<div class="form-group">
							<label class="control-label col-sm-4" for="commune">Commune
								account:</label>
							<div class="col-sm-8">
								<output id="commune"></output>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-sm-4" for="intertrade">Intertrade
								Account:</label>
							<div class="col-sm-8">
								<output id="intertrade"></output>
							</div>
						</div>
					</small>
					<div class="form-group">
						<label class="control-label col-sm-4" for="groupBalance">Intertrade
							Balance:</label>
						<div class="col-sm-4">
							<output id="groupBalance"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="intertradeDebitLimit">Intertrade
							Credit Limit:</label>
						<div class="col-sm-4">
							<output id="intertradeDebitLimit"></output>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-sm-4" for="intertradeCreditLimit">Intertrade
							Credit Limit:</label>
						<div class="col-sm-4">
							<output id="intertradeCreditLimit"></output>
						</div>
					</div>
				</form>
				<hr />
				<button type="submit" class="btn btn-default" onClick="resign();">Resign
					from your Group</button>
				<hr>
				<form class="form-horizontal" role="form" action="">
					<div class="form-group">
						<label class="control-label col-sm-4" for="groupToJoin">Join
							Group:</label>
						<div class="col-sm-4">
							<input type="text" class="form-control" id="groupToJoin"
								placeholder="Enter the group ID">
						</div>
					</div>
				</form>
				<button type="submit" class="btn btn-default" onClick="joinGroup();">Join</button>
			</div>
		</div>
	</div>

	<div class="panel-footer">
		<p>
			<img
				src="https://trancsitu.files.wordpress.com/2014/05/ethereum-logo.png"
				width="20" align="top" alt="" /> <i>Powered by ethereum</i>
		</p>
		<a rel="license"
			href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img
			alt="Creative Commons License" style="border-width: 0"
			src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a><br />This
		work is licensed under a <a rel="license"
			href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative
			Commons Attribution-NonCommercial-ShareAlike 4.0 International
			License</a>.
	</div>
</body>
</html>
